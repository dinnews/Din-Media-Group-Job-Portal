@model Din_Media_Group_Job_Portal.Models.tb_user
@{
    ViewBag.Title = "Account Setting";
    Layout = "~/Views/Shared/UserLayout.cshtml";
}

<div id="wrapper">

    <!-- Header for nav
    ================================================== -->
    <header class="sticky-header full-width">
        @Html.Partial("~/Views/Header/HeaderSelectionJobSeeker.cshtml")
    </header>
    <div class="clearfix"></div>
    <script>
        $(".sticky-header #logo a img").attr("src", "/Content/userContent/images/logo.png");
    </script>
    <!-- Titlebar
    =============================================== === -->
    <div id="titlebar" class="single">
        <div class="container">

            <div class="sixteen columns">
                <h2>Account Setting</h2>
                <nav id="breadcrumbs">
                    <ul>
                        <li >You are here:</li>
                        <li><a href="#">Home</a></li>
                        <li>Account Setting</li>
                    </ul>
                </nav>
            </div>

        </div>
    </div>


    <!-- Content
    ================================================== -->
    <!-- Container -->
    <div class="container">

        <div class="my-account">
            <ul class="tabs-nav">
                <li class="" style="width:49%;margin-right:5px;"><a href="#tab2">Account Settings</a></li>
                <li style ="width:49%;"><a href="#tab1">Change Password</a></li>
            </ul>

            <div class="tabs-container">
                <!-- udate Accout Setting -->
                <div class="tab-content" id="tab2" style="display: none;">
                    <form method="post" class="register" action="/Jobseeker/UpdateAccountSettings">
                        <div class="single">
                            @if (!ViewData.ModelState.IsValid && ViewData.ModelState["first_name"].Errors.Count > 0)
                            {
                                <span style="color:red">

                                    @ViewData.ModelState["first_name"].Errors[0].ErrorMessage

                                </span>
                            }
                            <p class="form-row form-row-wide">
                                <label for="first-name">
                                    First Name
                                    <i class="ln ln-icon-Male"></i>
                                    <input type="text" class="input-text" name="first_name" id="first-name" value="@Model.tb_employee_registration_data.FirstOrDefault().first_name" />
                                </label>
                            </p>
                            @if (!ViewData.ModelState.IsValid && ViewData.ModelState["last_name"].Errors.Count > 0)
                            {
                                <span style="color:red">

                                    @ViewData.ModelState["last_name"].Errors[0].ErrorMessage

                                </span>
                            }
                            <p class="form-row form-row-wide">
                                <label for="first-name">
                                    Last Name
                                    <i class="ln ln-icon-Male"></i>
                                    <input type="text" class="input-text" name="last_name" id="last-name" value="@Model.tb_employee_registration_data.FirstOrDefault().last_name" />
                                </label>
                            </p>
                            @if (!ViewData.ModelState.IsValid && ViewData.ModelState["email"].Errors.Count > 0)
                            {
                                <span style="color:red">

                                    @ViewData.ModelState["email"].Errors[0].ErrorMessage

                                </span>
                            }
                            <p class="form-row form-row-wide">
                                <label for="email2">
                                    Email:
                                    <i class="ln ln-icon-Mail"></i>
                                    <input type="text" class="input-text" name="email" id="email2" value="@Model.email" />
                                </label>
                            </p>
                            @if (!ViewData.ModelState.IsValid && ViewData.ModelState["gender"].Errors.Count > 0)
                            {
                                <span style="color:red">

                                    @ViewData.ModelState["gender"].Errors[0].ErrorMessage

                                </span>
                            }
                            <p class="form-row form-row-wide">
                                <label for="gender">
                                    <select data-placeholder="Choose Category" class="chosen-select-no-single" name="gender" id="gender" required>
                                        
                                        <option value="female"> Female</option>
                                        <option value="male" >Male</option>
                                        <option value="other">Other</option>
                                    </select>
                                </label>
                            </p>
                        </div>
                        <div class="mainpanel single">
                            <p class="form-row form-row-wide">
                                <h3>
                                    What are you looking for.
                                </h3>
                            </p>
                            @if (!ViewData.ModelState.IsValid && ViewData.ModelState["location"].Errors.Count > 0)
                            {
                                <span style="color:red">

                                    @ViewData.ModelState["location"].Errors[0].ErrorMessage

                                </span>
                            }
                            <p class="form-row form-row-wide">
                                <label for="work-location">
                                    Preferred Work Location:
                                    <i class="ln ln-icon-Location-2"></i>
                                    <input type="text" class="input-text" name="location" id="work-location" value="@Model.tb_employee_registration_data.FirstOrDefault().location" placeholder="e.g. Lahore" />
                                </label>
                            </p>
                            @if (!ViewData.ModelState.IsValid && ViewData.ModelState["job_title"].Errors.Count > 0)
                            {
                                <span style="color:red">

                                    @ViewData.ModelState["job_title"].Errors[0].ErrorMessage

                                </span>
                            }
                            <p class="form-row form-row-wide">
                                <label for="job-title">
                                    Desired Job Title:
                                    <i class="ln ln-icon-Suitcase"></i>
                                    <input class="input-text" type="text" name="job_title" id="job-title" value="@Model.tb_employee_registration_data.FirstOrDefault().job_title" placeholder="e.g. Software Engineer" />
                                </label>
                            </p>
                            <p class="form-row form-row-wide">
                                <label for="job-title">
                                    I'm interested in (Please select at least one option)
                                </label>
                                <div class="row">
                                    @{
                                        var checkboxArray = Model.tb_employee_registration_data.FirstOrDefault().job_interest.Split(',');
                                        if(checkboxArray[0]=="fulltime")
                                        {
                                            @:<input class="checkboxes" type="checkbox" name="fulltime" id="interests" value="fulltime" checked />Full Time
                                        }
                                        else
                                        {
                                            @:<input class="checkboxes" type="checkbox" name="fulltime" id="interests" value="fulltime" />Full Time
                                        }
                                        if(checkboxArray[1]=="parttime")
                                        {
                                            @:<input class="checkboxes" type="checkbox" name="parttime" id="interests" value="parttime" checked />Part Time
                                        }
                                        else
                                        {
                                            @:<input class="checkboxes" type="checkbox" name="parttime" id="interests" value="parttime" />Part Time
                                        }
                                        if(checkboxArray[2]=="internship")
                                        {
                                            @:<input class="checkboxes" type="checkbox" name="internship" id="interests" value="internship" checked/>Internship
                                        }
                                        else
                                        {
                                            @:<input class="checkboxes" type="checkbox" name="internship" id="interests" value="internship" />Internship
                                        }
                                        if (checkboxArray[3] == "govt")
                                        {
                                            @:<input class="checkboxes" type="checkbox" name="govt" id="interests" value="govt" checked/>Govt Jobs
                                        }
                                        else
                                        {
                                            @:<input class="checkboxes" type="checkbox" name="govt" id="interests" value="govt" />Govt Jobs
                                        }
                                    }
                                                                        
                                </div>
                            </p>
                            @if (!ViewData.ModelState.IsValid && ViewData.ModelState["job_catagory_field"].Errors.Count > 0)
                            {
                                <span style="color:red">

                                    @ViewData.ModelState["job_catagory_field"].Errors[0].ErrorMessage

                                </span>
                            }
                            <p class="form-row form-row-wide">
                                <label for="job-title">
                                    Select Your Catagory
                                    <select data-placeholder="Choose Category" class="chosen-select-no-single" name="job_catagory_field">
                                        <option value="">Select your Catagory</option>
                                        <option value="Software Engineer">Software Engineer</option>
                                        <option value="Qualit Manager" selected="selected">Qualit Manager</option>
                                        <option value="Content Writer">Content Writer</option>
                                    </select>
                                </label>
                            </p>

                        </div>
                        <p class="form-row">
                            <input type="submit" class="button border fw margin-top-10" name="register" value="Update" />
                        </p>

                    </form>
                </div>
                <!-- Login -->
                <div class="tab-content" id="tab1" style="display: none;">
                    <form method="post" class="login" action="/Jobseeker/UpdatePassword">
                        <span style="color:red;">
                            @ViewBag.ErrorMessage
                        </span>

                        <p class="form-row form-row-wide">
                            <label for="old-password">
                                Old Password:
                                <i class="ln ln-icon-Lock-2"></i>
                                <input class="input-text" type="password" name="old_password" id="password" required />
                            </label>
                        </p>

                        <p class="form-row form-row-wide">
                            <label for="password">
                                New Password:
                                <i class="ln ln-icon-Lock-2"></i>
                                <input class="input-text" type="password" name="new_password" id="password" required />
                            </label>
                        </p>
                        <p class="form-row form-row-wide">
                            <label for="repeat-password">
                                Repeat Password:
                                <i class="ln ln-icon-Lock-2"></i>
                                <input class="input-text" type="password" name="new_password_reenter" id="repeat-password" required />
                            </label>
                        </p>

                        <p class="form-row">
                            <input type="submit" class="button border fw margin-top-10" name="login" value="Update Password" />
                        <p class="lost_password">
                            @ViewBag.ErrorLogin
                        </p>
                    </form>
                </div>

            </div>
        </div>
    </div>
    
    <!-- Footer
    ================================================== -->
    <div class="margin-top-30"></div>

    @Html.Partial("~/Views/Footer/_partialUserFooter.cshtml")

    <!-- Back To Top Button -->
    <div id="backtotop"><a href="#"></a></div>

</div>
<!-- Wrapper / End -->
<script>
    @if(ViewData.ModelState.IsValid)
    {
        <text>
    $("#gender").val("@Model.tb_employee_registration_data.FirstOrDefault().gender");
    $("#job_catagory_field").val("@Model.tb_employee_registration_data.FirstOrDefault().job_catagory_field");
    
    </text>
       
    }   
</script>